+function(t){"use strict";var e,o=!0,s={swipeout:!0,swipeoutNoFollow:!1};t.initSwipeout=function(n){function i(e){if(o){f=!1,r=!0,p=void 0;var s=t.getTouchPosition(e);F.x=s.x,F.y=s.y,u=(new Date).getTime()}}function a(e){if(r){var o=t.getTouchPosition(e),n=o.x,i=o.y;if("undefined"==typeof p&&(p=!!(p||Math.abs(i-F.y)>Math.abs(n-F.x))),p)return void(r=!1);if(!f){if(t(".list-block.sortable-opened").length>0)return;c=t(this),h=c.find(".swipeout-content"),w=c.find(".swipeout-actions-right"),g=c.find(".swipeout-actions-left"),v=m=O=y=_=E=null,k=g.hasClass("swipeout-actions-no-fold")||s.swipeoutActionsNoFold,D=w.hasClass("swipeout-actions-no-fold")||s.swipeoutActionsNoFold,g.length>0&&(v=g.outerWidth(),O=g.children("a"),E=g.find(".swipeout-overswipe")),w.length>0&&(m=w.outerWidth(),y=w.children("a"),_=w.find(".swipeout-overswipe")),x=c.hasClass("swipeout-opened"),x&&(b=c.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),c.removeClass("transitioning"),s.swipeoutNoFollow||(c.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),c.removeClass("swipeout-opened"))}if(f=!0,e.preventDefault(),d=n-F.x,C=d,x&&("right"===b?C-=m:C+=v),C>0&&0===g.length||0>C&&0===w.length){if(!x)return r=f=!1,h.transform(""),y&&y.length>0&&y.transform(""),void(O&&O.length>0&&O.transform(""));C=0}L=0>C?"to-left":C>0?"to-right":L?L:"to-left";var a,l,u;if(e.f7PreventPanelSwipe=!0,s.swipeoutNoFollow)return x?("right"===b&&d>0&&t.swipeoutClose(c),"left"===b&&0>d&&t.swipeoutClose(c)):(0>d&&w.length>0&&t.swipeoutOpen(c,"right"),d>0&&g.length>0&&t.swipeoutOpen(c,"left")),r=!1,void(f=!1);M=!1,W=!1;var N;if(w.length>0)for(u=C/m,-m>C&&(C=-m-Math.pow(-C-m,.8),_.length>0&&(W=!0)),a=0;a<y.length;a++)"undefined"==typeof y[a]._buttonOffset&&(y[a]._buttonOffset=y[a].offsetLeft),l=y[a]._buttonOffset,N=t(y[a]),_.length>0&&N.hasClass("swipeout-overswipe")&&(N.css({left:(W?-l:0)+"px"}),W?N.addClass("swipeout-overswipe-active"):N.removeClass("swipeout-overswipe-active")),N.transform("translate3d("+(C-l*(1+Math.max(u,-1)))+"px,0,0)");if(g.length>0)for(u=C/v,C>v&&(C=v+Math.pow(C-v,.8),E.length>0&&(M=!0)),a=0;a<O.length;a++)"undefined"==typeof O[a]._buttonOffset&&(O[a]._buttonOffset=v-O[a].offsetLeft-O[a].offsetWidth),l=O[a]._buttonOffset,N=t(O[a]),E.length>0&&N.hasClass("swipeout-overswipe")&&(N.css({left:(M?l:0)+"px"}),M?N.addClass("swipeout-overswipe-active"):N.removeClass("swipeout-overswipe-active")),O.length>1&&N.css("z-index",O.length-a),N.transform("translate3d("+(C+l*(1-Math.min(u,1)))+"px,0,0)");h.transform("translate3d("+C+"px,0,0)")}}function l(o){if(!r||!f)return r=!1,void(f=!1);r=!1,f=!1;var s,n,i,a,l,p,b=(new Date).getTime()-u;if(p="to-left"===L?D:k,i="to-left"===L?w:g,n="to-left"===L?m:v,s=300>b&&(-10>d&&"to-left"===L||d>10&&"to-right"===L)||b>=300&&Math.abs(C)>n/2?"open":"close",300>b&&(0===Math.abs(C)&&(s="close"),Math.abs(C)===n&&(s="open")),"open"===s){e=c,c.trigger("open"),c.addClass("swipeout-opened transitioning");var E="to-left"===L?-n:n;if(h.transform("translate3d("+E+"px,0,0)"),i.addClass("swipeout-actions-opened"),a="to-left"===L?y:O)for(l=0;l<a.length;l++)t(a[l]).transform("translate3d("+E+"px,0,0)");W&&w.find(".swipeout-overswipe")[0].click(),M&&g.find(".swipeout-overswipe")[0].click()}else c.trigger("close"),e=void 0,c.addClass("transitioning").removeClass("swipeout-opened"),h.transform(""),i.removeClass("swipeout-actions-opened");var _;if(O&&O.length>0&&O!==a)for(l=0;l<O.length;l++)_=O[l]._buttonOffset,"undefined"==typeof _&&(O[l]._buttonOffset=v-O[l].offsetLeft-O[l].offsetWidth),t(O[l]).transform("translate3d("+_+"px,0,0)");if(y&&y.length>0&&y!==a)for(l=0;l<y.length;l++)_=y[l]._buttonOffset,"undefined"==typeof _&&(y[l]._buttonOffset=y[l].offsetLeft),t(y[l]).transform("translate3d("+-_+"px,0,0)");h.transitionEnd(function(t){x&&"open"===s||closed&&"close"===s||(c.trigger("open"===s?"opened":"closed"),x&&"close"===s&&(w.length>0&&y.transform(""),g.length>0&&O.transform("")))})}var r,f,p,u,d,c,h,w,g,v,m,C,x,b,O,y,L,E,_,M,W,k,D,F={};t(document).on(t.touchEvents.start,function(o){if(e){var s=t(o.target);e.is(s[0])||s.parents(".swipeout").is(e)||s.hasClass("modal-in")||s.hasClass("modal-overlay")||s.hasClass("actions-modal")||s.parents(".actions-modal.modal-in, .modal.modal-in").length>0||t.swipeoutClose(e)}}),n?(t(n).on(t.touchEvents.start,i),t(n).on(t.touchEvents.move,a),t(n).on(t.touchEvents.end,l)):(t(document).on(t.touchEvents.start,".list-block li.swipeout",i),t(document).on(t.touchEvents.move,".list-block li.swipeout",a),t(document).on(t.touchEvents.end,".list-block li.swipeout",l))},t.swipeoutOpen=function(o,n,i){if(o=t(o),2===arguments.length&&"function"==typeof arguments[1]&&(i=n),0!==o.length&&(o.length>1&&(o=t(o[0])),o.hasClass("swipeout")&&!o.hasClass("swipeout-opened"))){n||(n=o.find(".swipeout-actions-right").length>0?"right":"left");var a=o.find(".swipeout-actions-"+n);if(0!==a.length){a.hasClass("swipeout-actions-no-fold")||s.swipeoutActionsNoFold;o.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),a.addClass("swipeout-actions-opened");var l,r=a.children("a"),f=a.outerWidth(),p="right"===n?-f:f;if(r.length>1){for(l=0;l<r.length;l++)"right"===n?t(r[l]).transform("translate3d("+-r[l].offsetLeft+"px,0,0)"):t(r[l]).css("z-index",r.length-l).transform("translate3d("+(f-r[l].offsetWidth-r[l].offsetLeft)+"px,0,0)");r[1].clientLeft}for(o.addClass("transitioning"),l=0;l<r.length;l++)t(r[l]).transform("translate3d("+p+"px,0,0)");o.find(".swipeout-content").transform("translate3d("+p+"px,0,0)").transitionEnd(function(){o.trigger("opened"),i&&i.call(o[0])}),e=o}}},t.swipeoutClose=function(n,i){function a(){o=!0,n.hasClass("swipeout-opened")||(n.removeClass("transitioning"),f.transform(""),n.trigger("closed"),i&&i.call(n[0]),u&&clearTimeout(u))}if(n=t(n),0!==n.length&&n.hasClass("swipeout-opened")){var l=n.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",r=n.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),f=(r.hasClass("swipeout-actions-no-fold")||s.swipeoutActionsNoFold,r.children("a")),p=r.outerWidth();o=!1,n.trigger("close"),n.removeClass("swipeout-opened").addClass("transitioning");var u;n.find(".swipeout-content").transform("").transitionEnd(a),u=setTimeout(a,500);for(var d=0;d<f.length;d++)"right"===l?t(f[d]).transform("translate3d("+-f[d].offsetLeft+"px,0,0)"):t(f[d]).transform("translate3d("+(p-f[d].offsetWidth-f[d].offsetLeft)+"px,0,0)"),t(f[d]).css({left:"0px"}).removeClass("swipeout-overswipe-active");e&&e[0]===n[0]&&(e=void 0)}},t.swipeoutDelete=function(o,s){if(o=t(o),0!==o.length){o.length>1&&(o=t(o[0])),e=void 0,o.trigger("delete"),o.css({height:o.outerHeight()+"px"});o[0].clientLeft;o.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(o.trigger("deleted"),s&&s.call(o[0]),o.parents(".virtual-list").length>0){var t=o.parents(".virtual-list")[0].f7VirtualList,e=o[0].f7VirtualListIndex;t&&"undefined"!=typeof e&&t.deleteItem(e)}else o.remove()});var n="-100%";o.find(".swipeout-content").transform("translate3d("+n+",0,0)")}},t(function(){t(document).on("click",".swipeout-close, .swipeout-delete",function(e){var o=t(this),s=o.dataset();if(o.hasClass("swipeout-close")&&t.swipeoutClose(o.parents(".swipeout-opened")),o.hasClass("swipeout-delete"))if(s.confirm){var n=s.confirm,i=s.confirmTitle;i?t.confirm(n,i,function(){t.swipeoutDelete(o.parents(".swipeout"))},function(){s.closeOnCancel&&t.swipeoutClose(o.parents(".swipeout"))}):t.confirm(n,function(){t.swipeoutDelete(o.parents(".swipeout"))},function(){s.closeOnCancel&&t.swipeoutClose(o.parents(".swipeout"))})}else t.swipeoutDelete(o.parents(".swipeout"))})})}($);
//# sourceMappingURL=light7-swipeout.min.js.map